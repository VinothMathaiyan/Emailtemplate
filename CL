from wordcloud import WordCloud
import matplotlib.pyplot as plt

# Function to generate word clouds for each topic
def generate_word_clouds(df):
    topics = df['Topics'].unique()
    
    for topic in topics:
        topic_data = df[df['Topics'] == topic]
        all_words = [word for words in topic_data['Top_Words'] for word in words]
        wordcloud = WordCloud(width=800, height=400, background_color='white').generate(" ".join(all_words))
        
        plt.figure(figsize=(10, 8))
        plt.imshow(wordcloud, interpolation='bilinear')
        plt.title(f'Word Cloud for {topic}')
        plt.axis('off')
        plt.show()

# Generate word clouds
generate_word_clouds(df)

from collections import Counter
import seaborn as sns

# Function to generate bar plots for each topic
def generate_bar_plots(df):
    topics = df['Topics'].unique()
    
    for topic in topics:
        topic_data = df[df['Topics'] == topic]
        all_words = [word for words in topic_data['Top_Words'] for word in words]
        word_counts = Counter(all_words)
        word_counts_df = pd.DataFrame.from_dict(word_counts, orient='index', columns=['Count']).reset_index()
        word_counts_df = word_counts_df.rename(columns={'index': 'Word'})
        
        plt.figure(figsize=(12, 6))
        sns.barplot(x='Count', y='Word', data=word_counts_df, palette='viridis')
        plt.title(f'Top Words for {topic}')
        plt.xlabel('Frequency')
        plt.ylabel('Words')
        plt.show()

# Generate bar plots
generate_bar_plots(df)
