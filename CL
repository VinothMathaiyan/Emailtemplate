Qualtrics.SurveyEngine.addOnload(function() {
  function addDaysIncludingStart(date, days) {
    const result = new Date(date);
    result.setDate(result.getDate() + days - 1);

    const year = result.getFullYear();
    const month = String(result.getMonth() + 1).padStart(2, '0'); // Ensure two digits
    const day = String(result.getDate()).padStart(2, '0'); // Ensure two digits

    return year + '-' + month + '-' + day; // Properly formatted date
  }

  const today = new Date().toISOString().split('T')[0];
  const fiveDaysLater = addDaysIncludingStart(today, 5);
  const reminderDate = addDaysIncludingStart(today, 3);

  Qualtrics.SurveyEngine.setEmbeddedData('JS_Survey_Open_Date', today);
  Qualtrics.SurveyEngine.setEmbeddedData('JS_Survey_Close_Date', fiveDaysLater);
  Qualtrics.SurveyEngine.setEmbeddedData('Survey_Reminder_DateI', reminderDate); // Date string without time
});

