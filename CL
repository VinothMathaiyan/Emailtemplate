<script>
  Qualtrics.SurveyEngine.addOnload(function() {
    // Get the question container
    const questionContainer = this.getQuestionContainer();

    // Create the date picker element
    const datePicker = document.createElement('duet-date-picker');
    datePicker.setAttribute('identifier', 'my-date-picker');
    datePicker.setAttribute('value', '2023-01-01');
    datePicker.setAttribute('min', '2022-01-01');
    datePicker.setAttribute('max', '2024-12-31');
    datePicker.setAttribute('localization', 'en-GB');

    // Append the date picker to the question container
    questionContainer.appendChild(datePicker);

    // Optional: Customize the date adapter if needed
    datePicker.dateAdapter = {
      parse: (value = '') => {
        const [day, month, year] = value.split('/');
        return isNaN(day) || isNaN(month) || isNaN(year)
          ? new Date()
          : new Date(year, month - 1, day);
      },
      format: (date) => {
        const day = date.getDate();
        const month = date.getMonth() + 1;
        const year = date.getFullYear();
        return `${day}/${month}/${year}`;
      },
    };
  });
</script>
