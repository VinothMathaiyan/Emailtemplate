
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
<script type="module" src="https://cdn.jsdelivr.net/npm/@duetds/date-picker@1.4.0/dist/duet/duet.esm.js"></script>
<script nomodule src="https://cdn.jsdelivr.net/npm/@duetds/date-picker@1.4.0/dist/duet/duet.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@duetds/date-picker@1.4.0/dist/duet/themes/default.css" />

<script>
  angular.module('calendarApp', [])
    .controller('CalendarController', function() {
      this.selectedDate = new Date();
    });

  document.addEventListener('DOMContentLoaded', function() {
    const datePicker = document.createElement('duet-date-picker');
    datePicker.setAttribute('identifier', 'date');
    datePicker.addEventListener('duetChange', function(event) {
      const scope = angular.element(document.querySelector('[ng-controller="CalendarController as ctrl"]')).scope();
      scope.$apply(function() {
        scope.ctrl.selectedDate = event.detail.value;
      });
    });
    document.getElementById('date-picker-container').appendChild(datePicker);
  });
</script>


<div ng-app="calendarApp" ng-controller="CalendarController as ctrl">
  <label for="date">Choose a date</label>
  <div id="date-picker-container"></div>
  <p>Selected Date: {{ ctrl.selectedDate }}</p>
</div>
